{
  // Default options
  'functions': true
}

%icon {
  content: '';
  display: block;
  width: 1rem;
  height: 1rem;
  background-image: image-url('icons.png');
  background-size: 5rem 13rem;
}

@media (-webkit-min-device-pixel-ratio: 1.5), (min-resolution: 144dpi) {
  %icon { background-image: image-url('icons@2x.png'); }
}

%icon-dir                   { background-position: 0 0; }
%icon-search                { background-position: -1rem 0; }
%icon-link                  { background-position: -2.25rem -.25rem; }
%icon-clear                 { background-position: -3rem 0; }
%icon-close-white           { background-position: -4rem 0; }
%icon-settings              { background-position: 0 -1rem; }
%icon-menu                  { background-position: -2rem -4rem; }
%icon-home                  { background-position: -3rem -4rem; }
%icon-check                 { background-position: -1rem -1rem; }
%icon-path                  { background-position: -3rem -7rem; }
._icon-http:before          { background-position: -2rem -1rem; }
._icon-jquery:before        { background-position: -3rem -1rem; }
._icon-underscore:before    { background-position: -4rem -1rem; }
._icon-html:before          { background-position: 0 -2rem; }
._icon-css:before           { background-position: -1rem -2rem; }
._icon-dom:before           { background-position: -2rem -2rem; }
._icon-dom_events:before    { background-position: -3rem -2rem; }

{{#items}}
.icon-{{name}}:before {
  display: block;
  background-image: url({{{escaped_image}}});
  background-position: {{px.offset_x}} {{px.offset_y}};
  width: {{px.width}};
  height: {{px.height}};
}
{{/items}}


{{#items}}
  ${{name}}-x: {{px.x}};
  ${{name}}-y: {{px.y}};
  ${{name}}-offset-x: {{px.offset_x}};
  ${{name}}-offset-y: {{px.offset_y}};
  ${{name}}-width: {{px.width}};
  ${{name}}-height: {{px.height}};
  ${{name}}-total-width: {{px.total_width}};
  ${{name}}-total-height: {{px.total_height}};
  ${{name}}-image: '{{{escaped_image}}}';
  ${{name}}: {{px.x}} {{px.y}} {{px.offset_x}} {{px.offset_y}} {{px.width}} {{px.height}} {{px.total_width}} {{px.total_height}} '{{{escaped_image}}}';
{{/items}}

{{#options.functions}}
  @mixin sprite-width($sprite) {
    width: nth($sprite, 5);
  }

  @mixin sprite-height($sprite) {
    height: nth($sprite, 6);
  }

  @mixin sprite-position($sprite) {
    $sprite-offset-x: nth($sprite, 3);
    $sprite-offset-y: nth($sprite, 4);
    background-position: $sprite-offset-x  $sprite-offset-y;
  }

  @mixin sprite-image($sprite) {
    $sprite-image: nth($sprite, 9);
    background-image: url(#{$sprite-image});
  }

  @mixin sprite($sprite) {
    @include sprite-image($sprite);
    @include sprite-position($sprite);
    @include sprite-width($sprite);
    @include sprite-height($sprite);
  }
{{/options.functions}}